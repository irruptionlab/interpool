# Interpool
Interpool is a GameFi with no loosers, where the winners share the interests generated by the deposits of all the participants.
We've been widely inspired by PoolTogether which uses the same concept but for a lottery. On our project we wanted to remove the random factor, and replace it by the skill factor, so the best players can change the odds in their favor.
Our first final version of our concept is a Prediction Game on the 2024 FIFA World Cup

The documentation of this dapp is available on this link https://perrin.gitbook.io/interpool/

Interpool is open source, smart contracts are into this repository.

This repository contains 4 smart contracts:
   - InterpoolContract.sol : contract with rules for calculate ranking and scoring of contests
   - IpEnetScore.sol : oracle contract for getting FIFA World Cup games data 
   - IpErc20Ticket.sol : contract for ERC20 token ticket : 1 ticket = 50$
   - IpPool.sol : contract for deposit and withdraw on Aave

Contract Address on Ethereum Goerli Testnet:
   * InterpoolContract.sol : https://goerli.etherscan.io/address/0x78F63a48B2532487e2afB85A939fB40F8FE9dd34
   * IpEnetScore.sol : https://goerli.etherscan.io/address/0x376d4A2cB540e01A7E233C9b721c04087511Ef3a
   * IpErc2OTicket.sol : https://goerli.etherscan.io/address/0xD81e4a61FD6Bf066539dF6EA48bfaeAe847DCdA1
   * IpPool.sol : https://goerli.etherscan.io/address/0x80A9c7C5F5BFD765A2dC3773dFF00d02Db8B34aE

Contract Address on Polygon Mumbai Testnet:
   * InterpoolContract.sol : https://mumbai.polygonscan.com/address/0x46caF9ebEEa03ba564B71AacDfd65ffC9D0C0D42
   * IpEnetScore.sol : https://mumbai.polygonscan.com/address/0x50612995185cd0C339897eB92aeA9800929D76aE
   * IpErc2OTicket.sol : https://mumbai.polygonscan.com/address/0x2e489Db34cB848fE5C9e73A01b683A6Edf747011
   * IpPool.sol : https://mumbai.polygonscan.com/address/0x00858C026e7Ef3DA9a98725B20d99B3001255254

## Building Interpool
##### Clone the project
Clone the repository on your local machine
```bash
$ git clone https://github.com/pgrandne/Interpool.git
```

### Core Contracts ###
We use Hardhat

1. Go to "core" folder
```bash
$ cd core
```

2. Install the dependencies
```bash
$ npm install
```

3. The 3 contrats are available in "contracts" folder
```bash
$ cd contracts
```

4. We use .env for environment variables. Change the name of env.example to .env and fill in the 3 variables :
   - We use ALCHEMY_ID for the provider
   - We use PRIVATE KEY for the deployment
   - We use ETHERSCAN_API for contracts verification

5. We have configured 3 networks in `hardhat.config.js`:
   - Ehtereum Goerli
   - Mainnet Optimism
   - Testnet Optimism
   - Polygon Mumbai
   - Hardhat

6. For deploying a contract, go to "scripts" folder and open deploy.js. Replace the parameter of ContractFactory by the name of the contract that you want to deploy:
`const Contract = await ethers.getContractFactory("InterpoolContract");`

7. Compile and deploy the contract:
```bash
$ npx hardhat compile
$ npx hardhat run --network goerli scripts/deploy.js
```
8. Verify the contract on Etherscan
```bash
$ npx hardhat verify --network goerli
```